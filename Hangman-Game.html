<!DOCTYPE html>
<html lang="en">

<head>

  <title>JavaScript Content!</title>

  <meta charset="UTF-8">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

</head>

<body>

<div class = "game">

<h1 id='title'> Say Hello! </h1>

<button id='button'> Click me to Start! </button>

<h2 id='wordUn'> </h2>

<h2 id='wrong'> </h2>

<h2 id='winOrLose'> </h2>


</div>




<script type="text/javascript">

$(document).ready(function() {

//Things going wrong:  - clicking on the button to start shows the underscores on the screen, but it's not the right number of underscores. Why are there more underscores? FIXED
// -  Not all letters are updating in the underscores array...need to do something to review all letters in the array...not just the first letter.  
// -  Selecting buttons from keyboard is not generating letters in the underscore.  Figure this out last.  


  var underscores = [];

  var wordList = ["hello", "bonjour", "ola", "yo", "salaam", "namaste", "ohayo", "merhaba"];

  var wrongGuess = [];

  var word = '';

  var remaining = 9;

$("button").on('click', function() {

  wordNumber(wordList);
  $("#wordUn").html("<h1>" + underscores + "</h1>");
  $('#winOrLose').html('<h2> </h2>');
  $('#wrong').html('<h2> </h2>');

})


$('#wordUn').on('keyup', function(event) {

    var userInput = (event.target);

    var value = userInput.data('#wordUn')
    console.log(userInput);

  gameRun(userInput);

})




function wordNumber(list) {
  var compRandom = list[Math.floor(Math.random() * list.length )];
  for(var i = 0; i < compRandom.length; i++) {
    underscores.push('_ ');
  }
    word = compRandom;
}



function gameRun(letter) {

  letter = letter.toLowerCase()
  var letterInWord = word.indexOf(letter)

  if (letterInWord == -1) {

    if (wrongGuess.length == 9) {
      youLost();
      reStart();

    } else {

      if (letterInWord == -1) {
        wrongGuess.push(letter);
      }

      wrongGuessUpdate();
    }

  } else {

    winCheck();

    for( i = letterInWord; i < word.length; i++) {
      if(word[i] == letter) {
        (underscores.splice(i, 1, letter));
      }
    };
    updateUnderscores();
    winCheck();
  }
}



//compares the underscores to the word.  If they it's equal, they win!
function winCheck() {
  var wordSplit = word.split("")
  if (underscores.toString() == wordSplit.toString()) { youWin();
}}

//alerts that they won!
function youWin() {
  $("#winOrLose").html("<h2>" + "You Win!" + "</h2>");
  reStart();
}

//alerts that they lost

function youLost() {
  $("#winOrLose").html("<h2>" + "You Lost :(" + "</h2>");
}

//updates wrongGuess on screen
function wrongGuessUpdate() {
  $("#wrong").html("<h2>" + wrongGuess + "</h2>");
}


//updates underscores on screen

function updateUnderscores() {
  $("#wordUn").html("<h2>" + underscores + "</h2>");
  }

function reStart() {
  
  underscores = [];

  wordList = ["hello", "bonjour", "ola", "yo", "salaam", "namaste", "ohayo", "merhaba"];

  wrongGuess = [];

  word = '';

  remaining = 9;

  updateUnderscores();


}


})


  </script>


</body>
</html>